#!/bin/bash
# Script for taking a screenshot from a selected area and pushing it straight
# into dropbox (with a predictable naming scheme).
#
# Requires:
# * scrot
# * xclip

SCREENSHOT_DIR=~/Dropbox/Public/screenshots
name="screenshot_$(date '+%Y-%m-%d')"
filename="${name}_0.png"
if [ -e $SCREENSHOT_DIR/$filename ]; then
    count=$(ls $SCREENSHOT_DIR/${name}* | wc -l)
    filename="${name}_${count}.png"
fi
echo "Taking screenshot: $filename"

scrot -s $SCREENSHOT_DIR/$filename || exit -1
echo "https://dl.dropbox.com/u/1156750/screenshots/$filename" | xclip
